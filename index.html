<!DOCTYPE html>
<html>
<head>
  <title>Mapa con GeoJSON filtrable por d√≠as</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: Arial, sans-serif;
    }
    #map { 
      height: 90vh; 
      width: 100%;
    }
    .control-container {
      background: white;
      padding: 10px;
      border-radius: 5px;
      box-shadow: 0 1px 5px rgba(0,0,0,0.4);
      width: 100%;
      box-sizing: border-box;
    }
    select {
      width: 100%;
      padding: 8px;
      font-size: 16px;
      border-radius: 4px;
      border: 1px solid #ccc;
      color: white; /* Para que el texto se vea blanco en fondos oscuros */
      font-weight: bold;
    }
    .legend {
      background: white;
      padding: 10px;
      border-radius: 5px;
      box-shadow: 0 1px 5px rgba(0,0,0,0.4);
      line-height: 24px;
    }
    .legend-item {
      display: flex;
      align-items: center;
      margin-bottom: 5px;
    }
    .color-box {
      width: 20px;
      height: 20px;
      margin-right: 8px;
      border: 1px solid #333;
    }
  </style>
</head>
<body>
  <div class="control-container">
    <select id="day-filter">
      <option value="todos">Mostrar todos los d√≠as</option>
      <option value="Lunes">Lunes</option>
      <option value="Martes">Martes</option>
      <option value="Miercoles">Mi√©rcoles</option>
      <option value="Jueves">Jueves</option>
      <option value="Viernes">Viernes</option>
      <option value="Sabado">S√°bado</option>
    </select>
  </div>
  <div id="map"></div>
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script>
    function getColorForDay(day) {
      switch(day.toLowerCase()) {
        case "lunes": return "#1f77b4";    // azul
        case "martes": return "#ff7f0e";   // naranja
        case "miercoles": return "#2ca02c"; // verde
        case "jueves": return "#d62728";   // rojo
        case "viernes": return "#9467bd";  // p√∫rpura
        case "sabado": return "#8c564b";   // marr√≥n
        default: return "#cccccc";         // gris
      }
    }

    // Cambia el color del select seg√∫n el d√≠a seleccionado
    const select = document.getElementById('day-filter');
    function updateSelectColor() {
      const selectedDay = select.value;
      const color = selectedDay === 'todos' ? '#cccccc' : getColorForDay(selectedDay);
      select.style.backgroundColor = color;
      // Opcional: Cambiar el color del texto si el fondo es muy claro u oscuro
      // Aqu√≠ lo ponemos siempre blanco para que contraste bien con colores oscuros
      select.style.color = (selectedDay === 'todos') ? '#333' : '#fff';
    }

    select.addEventListener('change', updateSelectColor);

    // Inicializa color al cargar la p√°gina
    updateSelectColor();

    // Aqu√≠ el resto de tu c√≥digo para Leaflet y GeoJSON...
    const map = L.map('map');

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy; OpenStreetMap contributors'
    }).addTo(map);
    // üëá Aqu√≠ pegas tu objeto GeoJSON completo:
    const geojsonData = {
      "type": "FeatureCollection",
      "name": "das_de_retiro_zona_1",
      "features": [
      { "type": "Feature", "properties": { "Name": "Lunes", "COL54ECEF3850899A57": "d√≠a 3" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ -72.1206826, -36.5951483 ], [ -72.1244063, -36.5942165 ], [ -72.1275303, -36.5928923 ], [ -72.1297148, -36.5947545 ], [ -72.1336694, -36.5973481 ], [ -72.1363279, -36.5988733 ], [ -72.1382108, -36.6002297 ], [ -72.1445822, -36.6051264 ], [ -72.1507826, -36.6060255 ], [ -72.1823323, -36.6111133 ], [ -72.1844428, -36.6170132 ], [ -72.1790193, -36.6181073 ], [ -72.1777436, -36.6145406 ], [ -72.1569526, -36.6111364 ], [ -72.1590464, -36.6164457 ], [ -72.1529694, -36.6146725 ], [ -72.1491589, -36.6136052 ], [ -72.141537, -36.6113363 ], [ -72.1234893, -36.6083361 ], [ -72.1194692, -36.6034858 ], [ -72.1223729, -36.6038251 ], [ -72.1222835, -36.6016168 ], [ -72.119644, -36.5977279 ], [ -72.1183084, -36.5981875 ], [ -72.1161708, -36.5949593 ], [ -72.1179001, -36.593812 ], [ -72.1206826, -36.5951483 ] ] ] } },
      { "type": "Feature", "properties": { "Name": "Lunes", "COL54ECEF3850899A57": "D√≠a 12" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ -72.1254335, -36.6149218 ], [ -72.1240721, -36.6134529 ], [ -72.1239744, -36.6133961 ], [ -72.1238164, -36.6134443 ], [ -72.1211581, -36.6147173 ], [ -72.1178658, -36.6158022 ], [ -72.1159436, -36.6165392 ], [ -72.1134796, -36.6148682 ], [ -72.1118271, -36.6136346 ], [ -72.1117865, -36.6135632 ], [ -72.1147437, -36.6127035 ], [ -72.1144093, -36.6118227 ], [ -72.1148687, -36.6117551 ], [ -72.1157153, -36.6113525 ], [ -72.1162393, -36.6110455 ], [ -72.1165634, -36.6107328 ], [ -72.1165432, -36.6103847 ], [ -72.1164848, -36.6101604 ], [ -72.1166133, -36.6098705 ], [ -72.1168461, -36.6098206 ], [ -72.1172144, -36.6098149 ], [ -72.1175056, -36.6098834 ], [ -72.1177298, -36.6099462 ], [ -72.1180196, -36.6099976 ], [ -72.1182312, -36.609948 ], [ -72.118298, -36.6098977 ], [ -72.1187163, -36.609872 ], [ -72.1190229, -36.6099245 ], [ -72.1195458, -36.6100019 ], [ -72.1200555, -36.6100005 ], [ -72.1208792, -36.6097849 ], [ -72.1212609, -36.6097395 ], [ -72.1216909, -36.6096814 ], [ -72.1221969, -36.60956 ], [ -72.1226353, -36.6094808 ], [ -72.1229208, -36.6095236 ], [ -72.1231792, -36.6096564 ], [ -72.1234019, -36.6097192 ], [ -72.1240672, -36.6096578 ], [ -72.1244232, -36.609498 ], [ -72.1234893, -36.6083361 ], [ -72.141537, -36.6113363 ], [ -72.1491589, -36.6136052 ], [ -72.1531051, -36.614717 ], [ -72.1483761, -36.6172892 ], [ -72.1475961, -36.6169092 ], [ -72.1473861, -36.6167192 ], [ -72.1469561, -36.6162692 ], [ -72.1466961, -36.6157592 ], [ -72.1464561, -36.6149592 ], [ -72.1461361, -36.6147792 ], [ -72.1456661, -36.6146592 ], [ -72.1437061, -36.6140492 ], [ -72.1427661, -36.6139692 ], [ -72.1419261, -36.6140292 ], [ -72.1415861, -36.6141692 ], [ -72.1407661, -36.6143192 ], [ -72.1399361, -36.6142892 ], [ -72.1390661, -36.6142192 ], [ -72.1380361, -36.6143892 ], [ -72.1375361, -36.6146792 ], [ -72.1367761, -36.6152892 ], [ -72.1362961, -36.6155592 ], [ -72.1356761, -36.6157992 ], [ -72.1341161, -36.6160992 ], [ -72.1327961, -36.6162192 ], [ -72.1317561, -36.6162292 ], [ -72.1308561, -36.6163792 ], [ -72.1293961, -36.6166492 ], [ -72.1285161, -36.6168792 ], [ -72.1272533, -36.6170678 ], [ -72.1254335, -36.6149218 ] ] ] } },
      { "type": "Feature", "properties": { "Name": "Martes", "COL54ECEF3850899A57": "2" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ -72.1122562, -36.5969528 ], [ -72.1135866, -36.5962557 ], [ -72.1139764, -36.5961617 ], [ -72.1161708, -36.5949593 ], [ -72.1183084, -36.5981875 ], [ -72.119644, -36.5977279 ], [ -72.1222835, -36.6016168 ], [ -72.1223729, -36.6038251 ], [ -72.1194692, -36.6034858 ], [ -72.1234893, -36.6083361 ], [ -72.1244232, -36.609498 ], [ -72.1240672, -36.6096578 ], [ -72.1234019, -36.6097192 ], [ -72.1231792, -36.6096564 ], [ -72.1229208, -36.6095236 ], [ -72.1226353, -36.6094808 ], [ -72.1221969, -36.60956 ], [ -72.1216909, -36.6096814 ], [ -72.1212609, -36.6097395 ], [ -72.1208792, -36.6097849 ], [ -72.1200555, -36.6100005 ], [ -72.1195458, -36.6100019 ], [ -72.1190229, -36.6099245 ], [ -72.1187163, -36.609872 ], [ -72.118298, -36.6098977 ], [ -72.1182312, -36.609948 ], [ -72.1180196, -36.6099976 ], [ -72.1177298, -36.6099462 ], [ -72.1175056, -36.6098834 ], [ -72.1172144, -36.6098149 ], [ -72.1168461, -36.6098206 ], [ -72.1166133, -36.6098705 ], [ -72.1164848, -36.6101604 ], [ -72.1165432, -36.6103847 ], [ -72.1165634, -36.6107328 ], [ -72.1162393, -36.6110455 ], [ -72.1157153, -36.6113525 ], [ -72.1148687, -36.6117551 ], [ -72.1144093, -36.6118227 ], [ -72.1142527, -36.6114103 ], [ -72.1145282, -36.6113512 ], [ -72.1119413, -36.6052403 ], [ -72.1131515, -36.6048321 ], [ -72.1104238, -36.5974627 ], [ -72.1122562, -36.5969528 ] ] ] } },
      { "type": "Feature", "properties": { "Name": "Martes", "COL54ECEF3850899A57": "D√≠a 4" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ -72.1027833, -36.6074848 ], [ -72.1000264, -36.6000688 ], [ -72.0998155, -36.5999408 ], [ -72.0905135, -36.6022589 ], [ -72.0887364, -36.5991343 ], [ -72.0929896, -36.5972089 ], [ -72.0930584, -36.5971985 ], [ -72.0988319, -36.5945183 ], [ -72.1040613, -36.5931789 ], [ -72.1042337, -36.593122 ], [ -72.1064483, -36.5928666 ], [ -72.1085855, -36.5924284 ], [ -72.1104263, -36.5974688 ], [ -72.1131515, -36.6048321 ], [ -72.1119413, -36.6052403 ], [ -72.1027833, -36.6074848 ] ] ] } },
      { "type": "Feature", "properties": { "Name": "Miercoles", "COL54ECEF3850899A57": "D√≠a 10" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ -72.1081839, -36.6159693 ], [ -72.109561, -36.6156754 ], [ -72.1102071, -36.6173743 ], [ -72.1103779, -36.6174479 ], [ -72.1116423, -36.6206758 ], [ -72.1115541, -36.6209356 ], [ -72.111526, -36.6231098 ], [ -72.1156081, -36.6230468 ], [ -72.1162143, -36.6260488 ], [ -72.1167709, -36.6271152 ], [ -72.1176405, -36.627702 ], [ -72.1166761, -36.6288192 ], [ -72.1156861, -36.6296192 ], [ -72.1149361, -36.6301192 ], [ -72.1144261, -36.6302792 ], [ -72.1147375, -36.6315257 ], [ -72.1114057, -36.6321862 ], [ -72.1078768, -36.6325703 ], [ -72.1074701, -36.6313825 ], [ -72.1065916, -36.6269791 ], [ -72.1044995, -36.6227513 ], [ -72.1045429, -36.6226498 ], [ -72.104636, -36.6216512 ], [ -72.1049279, -36.6207037 ], [ -72.1052822, -36.6200326 ], [ -72.1052158, -36.6190981 ], [ -72.1007745, -36.619894 ], [ -72.1001861, -36.6183262 ], [ -72.1003361, -36.6182794 ], [ -72.1006925, -36.6181144 ], [ -72.100094, -36.6164318 ], [ -72.1076805, -36.614614 ], [ -72.1081839, -36.6159693 ] ] ] } },
      { "type": "Feature", "properties": { "Name": "Miercoles", "COL54ECEF3850899A57": "D√≠a 11" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ -72.1167709, -36.6271152 ], [ -72.1162167, -36.6260578 ], [ -72.1156081, -36.6230468 ], [ -72.1115263, -36.6231193 ], [ -72.1115541, -36.6209356 ], [ -72.1116423, -36.6206758 ], [ -72.1103779, -36.6174479 ], [ -72.1102071, -36.6173743 ], [ -72.109561, -36.6156754 ], [ -72.1081839, -36.6159693 ], [ -72.1076805, -36.614614 ], [ -72.1113278, -36.6137362 ], [ -72.1117865, -36.6135632 ], [ -72.1118271, -36.6136346 ], [ -72.1134796, -36.6148682 ], [ -72.1159436, -36.6165392 ], [ -72.1178658, -36.6158022 ], [ -72.1211581, -36.6147173 ], [ -72.1238164, -36.6134443 ], [ -72.1239744, -36.6133961 ], [ -72.1240721, -36.6134529 ], [ -72.1254335, -36.6149218 ], [ -72.1272533, -36.6170678 ], [ -72.1272039, -36.6171609 ], [ -72.1267721, -36.6178763 ], [ -72.1247525, -36.6188322 ], [ -72.122776, -36.6199974 ], [ -72.1227309, -36.620409 ], [ -72.1227362, -36.6206732 ], [ -72.122532, -36.6208916 ], [ -72.122644, -36.6210225 ], [ -72.123317, -36.6235452 ], [ -72.1226822, -36.6236662 ], [ -72.121066, -36.6250969 ], [ -72.117955, -36.627872 ], [ -72.1176405, -36.627702 ], [ -72.1167709, -36.6271152 ] ] ] } },
      { "type": "Feature", "properties": { "Name": "Jueves", "COL54ECEF3850899A57": "1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ -72.1085832, -36.5924223 ], [ -72.1064483, -36.5928666 ], [ -72.1042337, -36.593122 ], [ -72.1028633, -36.5894248 ], [ -72.10266, -36.5884079 ], [ -72.1025953, -36.5877654 ], [ -72.1024212, -36.5830227 ], [ -72.1036636, -36.5838112 ], [ -72.1062602, -36.5845926 ], [ -72.109855, -36.5851617 ], [ -72.1141378, -36.5861922 ], [ -72.1171419, -36.5869039 ], [ -72.1200974, -36.5878441 ], [ -72.1243894, -36.5903024 ], [ -72.1275303, -36.5928923 ], [ -72.1244063, -36.5942165 ], [ -72.1206826, -36.5951483 ], [ -72.1179001, -36.593812 ], [ -72.1161708, -36.5949593 ], [ -72.1139764, -36.5961617 ], [ -72.1135866, -36.5962557 ], [ -72.1122562, -36.5969528 ], [ -72.1104238, -36.5974627 ], [ -72.1085832, -36.5924223 ] ] ] } },
      { "type": "Feature", "properties": { "Name": "Jueves", "COL54ECEF3850899A57": "D√≠a 7" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ -72.0947431, -36.6136962 ], [ -72.0945281, -36.6136968 ], [ -72.0944616, -36.613703 ], [ -72.0942979, -36.6136573 ], [ -72.0939708, -36.6138566 ], [ -72.0934527, -36.6138819 ], [ -72.092696, -36.613762 ], [ -72.0922116, -36.6135831 ], [ -72.0919907, -36.6135717 ], [ -72.0916843, -36.6136383 ], [ -72.0914539, -36.6137296 ], [ -72.0909895, -36.6141351 ], [ -72.0909057, -36.6141389 ], [ -72.0901291, -36.6135755 ], [ -72.089853, -36.6134194 ], [ -72.089675, -36.6131795 ], [ -72.0891449, -36.6127093 ], [ -72.0890402, -36.612656 ], [ -72.0889336, -36.6126427 ], [ -72.0887966, -36.6126656 ], [ -72.0880808, -36.6128635 ], [ -72.0878219, -36.6128711 ], [ -72.0869139, -36.6130253 ], [ -72.0866816, -36.6131587 ], [ -72.0869058, -36.6135976 ], [ -72.0868798, -36.6136871 ], [ -72.0866717, -36.6137149 ], [ -72.086401, -36.6138009 ], [ -72.0845107, -36.6154711 ], [ -72.0839871, -36.6139753 ], [ -72.0831271, -36.6141817 ], [ -72.0830046, -36.61418 ], [ -72.0825757, -36.6133997 ], [ -72.0823678, -36.6133293 ], [ -72.080762, -36.6137669 ], [ -72.080635, -36.6134338 ], [ -72.0801002, -36.6123015 ], [ -72.0788353, -36.6126361 ], [ -72.0787107, -36.6123567 ], [ -72.0782358, -36.611153 ], [ -72.074771, -36.6121104 ], [ -72.0734665, -36.6100199 ], [ -72.0721312, -36.6103629 ], [ -72.0718163, -36.6104528 ], [ -72.0709939, -36.6076879 ], [ -72.0795536, -36.6051577 ], [ -72.0798948, -36.6053103 ], [ -72.080296, -36.6054048 ], [ -72.0807726, -36.6057301 ], [ -72.0808734, -36.6057656 ], [ -72.0814088, -36.6058433 ], [ -72.0815667, -36.6058869 ], [ -72.0816326, -36.6058919 ], [ -72.0818962, -36.6058226 ], [ -72.0819178, -36.6057904 ], [ -72.0820863, -36.6058666 ], [ -72.082275, -36.6059361 ], [ -72.082354, -36.6059926 ], [ -72.0827934, -36.6064572 ], [ -72.0822856, -36.6065601 ], [ -72.081037, -36.6067566 ], [ -72.0816622, -36.6091102 ], [ -72.0836576, -36.6087684 ], [ -72.0857389, -36.608677 ], [ -72.0859584, -36.608701 ], [ -72.0860344, -36.608762 ], [ -72.0862183, -36.6091334 ], [ -72.0865285, -36.6085523 ], [ -72.0876435, -36.6086002 ], [ -72.0877864, -36.6085839 ], [ -72.0927732, -36.6085671 ], [ -72.0929357, -36.6085444 ], [ -72.0933826, -36.6097675 ], [ -72.0948628, -36.6136885 ], [ -72.0947431, -36.6136962 ] ] ] } },
      { "type": "Feature", "properties": { "Name": "Viernes", "COL54ECEF3850899A57": "D√≠a 6" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ -72.1147437, -36.6127035 ], [ -72.1117865, -36.6135632 ], [ -72.1113278, -36.6137362 ], [ -72.1076805, -36.614614 ], [ -72.1056229, -36.6151019 ], [ -72.1041103, -36.6154599 ], [ -72.1017454, -36.6160298 ], [ -72.100094, -36.6164318 ], [ -72.096327, -36.6173178 ], [ -72.0962671, -36.6174057 ], [ -72.096187, -36.6174001 ], [ -72.0961214, -36.617137 ], [ -72.0952843, -36.6148331 ], [ -72.0948628, -36.6136885 ], [ -72.0933826, -36.6097675 ], [ -72.0935034, -36.6097695 ], [ -72.0935909, -36.6097163 ], [ -72.1027833, -36.6074849 ], [ -72.1119413, -36.6052403 ], [ -72.1145282, -36.6113512 ], [ -72.1142527, -36.6114103 ], [ -72.1144093, -36.6118227 ], [ -72.1147437, -36.6127035 ] ] ] } },
      { "type": "Feature", "properties": { "Name": "Viernes", "COL54ECEF3850899A57": "D√≠a 9" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ -72.1065916, -36.6269791 ], [ -72.1074701, -36.6313825 ], [ -72.1078768, -36.6325703 ], [ -72.1058082, -36.6330892 ], [ -72.1041853, -36.6333366 ], [ -72.103652, -36.6332335 ], [ -72.1033983, -36.6332993 ], [ -72.1032703, -36.632571 ], [ -72.1024126, -36.6326586 ], [ -72.1024011, -36.6322554 ], [ -72.0965787, -36.6326714 ], [ -72.0965405, -36.6323905 ], [ -72.0976653, -36.6322637 ], [ -72.0973954, -36.6310772 ], [ -72.0987451, -36.6309286 ], [ -72.0986948, -36.6305572 ], [ -72.0993831, -36.6304899 ], [ -72.099297, -36.6298526 ], [ -72.0987169, -36.6288616 ], [ -72.098596, -36.6284263 ], [ -72.0986878, -36.6283697 ], [ -72.0982293, -36.6276662 ], [ -72.0973583, -36.6279739 ], [ -72.0971387, -36.6275111 ], [ -72.099547, -36.6265633 ], [ -72.0978, -36.6236663 ], [ -72.1019683, -36.6229886 ], [ -72.1045105, -36.6227526 ], [ -72.1065916, -36.6269791 ] ] ] } },
      { "type": "Feature", "properties": { "Name": "Sabado", "COL54ECEF3850899A57": "D√≠a 8" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ -72.086401, -36.6138009 ], [ -72.0866717, -36.6137149 ], [ -72.0868798, -36.6136871 ], [ -72.0869058, -36.6135976 ], [ -72.0866816, -36.6131587 ], [ -72.0869139, -36.6130253 ], [ -72.0878219, -36.6128711 ], [ -72.0880808, -36.6128635 ], [ -72.0887966, -36.6126656 ], [ -72.0889336, -36.6126427 ], [ -72.0890402, -36.612656 ], [ -72.0891449, -36.6127093 ], [ -72.089675, -36.6131795 ], [ -72.089853, -36.6134194 ], [ -72.0901291, -36.6135755 ], [ -72.0909057, -36.6141389 ], [ -72.0909895, -36.6141351 ], [ -72.0914539, -36.6137296 ], [ -72.0916843, -36.6136383 ], [ -72.0919907, -36.6135717 ], [ -72.0922116, -36.6135831 ], [ -72.092696, -36.613762 ], [ -72.0934527, -36.6138819 ], [ -72.0939708, -36.6138566 ], [ -72.0942979, -36.6136573 ], [ -72.0944616, -36.613703 ], [ -72.0945281, -36.6136968 ], [ -72.0947431, -36.6136962 ], [ -72.0948628, -36.6136885 ], [ -72.0961214, -36.617137 ], [ -72.096187, -36.6174001 ], [ -72.0962671, -36.6174057 ], [ -72.096327, -36.6173178 ], [ -72.100094, -36.6164318 ], [ -72.100703, -36.6180982 ], [ -72.1006665, -36.6181318 ], [ -72.1003361, -36.6182794 ], [ -72.1001861, -36.6183262 ], [ -72.1007745, -36.619894 ], [ -72.1052158, -36.6190981 ], [ -72.1052822, -36.6200326 ], [ -72.1049279, -36.6207037 ], [ -72.104636, -36.6216512 ], [ -72.1045429, -36.6226498 ], [ -72.1045105, -36.6227526 ], [ -72.1019683, -36.6229886 ], [ -72.0978292, -36.6236743 ], [ -72.0937389, -36.6244002 ], [ -72.0915718, -36.6200015 ], [ -72.0891102, -36.6207456 ], [ -72.0880794, -36.6185546 ], [ -72.0878495, -36.618598 ], [ -72.087048, -36.6164693 ], [ -72.0870475, -36.6163756 ], [ -72.0849404, -36.6159829 ], [ -72.0847742, -36.6159244 ], [ -72.0845107, -36.6154711 ], [ -72.086401, -36.6138009 ] ] ] } },
      { "type": "Feature", "properties": { "Name": "Sabado", "COL54ECEF3850899A57": "D√≠a 5" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ -72.0935909, -36.6097163 ], [ -72.0935034, -36.6097695 ], [ -72.0933826, -36.6097675 ], [ -72.0929357, -36.6085444 ], [ -72.0927732, -36.6085671 ], [ -72.0877864, -36.6085839 ], [ -72.0876435, -36.6086002 ], [ -72.0865285, -36.6085523 ], [ -72.0862214, -36.6091399 ], [ -72.0860344, -36.608762 ], [ -72.0859584, -36.608701 ], [ -72.0857389, -36.608677 ], [ -72.0836576, -36.6087684 ], [ -72.0816622, -36.6091102 ], [ -72.081037, -36.6067566 ], [ -72.0822856, -36.6065601 ], [ -72.0827934, -36.6064572 ], [ -72.082354, -36.6059926 ], [ -72.082275, -36.6059361 ], [ -72.0820863, -36.6058666 ], [ -72.0819178, -36.6057904 ], [ -72.0818962, -36.6058226 ], [ -72.0816326, -36.6058919 ], [ -72.0815667, -36.6058869 ], [ -72.0814088, -36.6058433 ], [ -72.0808734, -36.6057656 ], [ -72.0807726, -36.6057301 ], [ -72.080296, -36.6054048 ], [ -72.0798948, -36.6053103 ], [ -72.07956, -36.6051606 ], [ -72.0813753, -36.6046157 ], [ -72.0814955, -36.6046592 ], [ -72.0819815, -36.6044637 ], [ -72.0836709, -36.6036275 ], [ -72.0854753, -36.6028518 ], [ -72.086067, -36.6042822 ], [ -72.0861079, -36.6043268 ], [ -72.0911829, -36.6038048 ], [ -72.0905135, -36.6022589 ], [ -72.0998155, -36.5999408 ], [ -72.1000264, -36.6000688 ], [ -72.1027833, -36.6074849 ], [ -72.0935909, -36.6097163 ] ] ] } }
      ]
      }


const geojsonLayer = L.geoJSON(geojsonData, {
  style: function (feature) {
    return {
      fillColor: getColorForDay(feature.properties.Name), // funci√≥n personalizada
      color: "#333",   // borde
      weight: 1,
      fillOpacity: 0.3
    };
  },
  onEachFeature: function (feature, layer) {
    layer.bindPopup(`D√≠a: ${feature.properties.Name}`);
  }
}).addTo(map);

map.fitBounds(geojsonLayer.getBounds());

  </script>
  <script>
    let currentLayer; // referencia a la capa actual
  
    function updateMapWithFilter(day) {
      if (currentLayer) {
        map.removeLayer(currentLayer); // quitar capa anterior
      }
  
      const filteredFeatures = day === "todos"
        ? geojsonData.features
        : geojsonData.features.filter(f => f.properties.Name.toLowerCase() === day.toLowerCase());
  
      const filteredGeoJSON = {
        ...geojsonData,
        features: filteredFeatures
      };
  
      currentLayer = L.geoJSON(filteredGeoJSON, {
        style: feature => ({
          color: getColorForDay(feature.properties.Name),
          weight: 2,
          opacity: .3,
          fillOpacity: 0.3
        })
      }).addTo(map);
  
      map.fitBounds(currentLayer.getBounds());
    }
  
    document.getElementById("day-filter").addEventListener("change", function () {
      const selectedDay = this.value;
      updateMapWithFilter(selectedDay);
    });
  
    // Cargar todos al principio
    updateMapWithFilter("todos");
  </script>
  
  
</body>
</html>

