<!DOCTYPE html>
<html>
<head>
  <title>Mapa con GeoJSON filtrable por d√≠as</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: Arial, sans-serif;
    }
    #map { 
      height: 90vh; 
      width: 100%;
    }
    .control-container {
      background: white;
      padding: 10px;
      border-radius: 5px;
      box-shadow: 0 1px 5px rgba(0,0,0,0.4);
      width: 100%;
      box-sizing: border-box;
    }
    select {
      width: 100%;
      padding: 8px;
      font-size: 16px;
      border-radius: 4px;
      border: 1px solid #ccc;
      color: white; /* Para que el texto se vea blanco en fondos oscuros */
      font-weight: bold;
    }
    .legend {
      background: white;
      padding: 10px;
      border-radius: 5px;
      box-shadow: 0 1px 5px rgba(0,0,0,0.4);
      line-height: 24px;
    }
    .legend-item {
      display: flex;
      align-items: center;
      margin-bottom: 5px;
    }
    .color-box {
      width: 20px;
      height: 20px;
      margin-right: 8px;
      border: 1px solid #333;
    }
  </style>
</head>
<body>
  <div class="control-container">
    <select id="day-filter">
      <option value="todos">Mostrar todos los d√≠as</option>
      <option value="Lunes">Lunes</option>
      <option value="Martes">Martes</option>
      <option value="Miercoles">Mi√©rcoles</option>
      <option value="Jueves">Jueves</option>
      <option value="Viernes">Viernes</option>
      <option value="Sabado">S√°bado</option>
    </select>
  </div>
  <div id="map"></div>
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script>
    function getColorForDay(day) {
      switch(day.toLowerCase()) {
        case "lunes": return "#1f77b4";    // azul
        case "martes": return "#ff7f0e";   // naranja
        case "miercoles": return "#2ca02c"; // verde
        case "jueves": return "#d62728";   // rojo
        case "viernes": return "#9467bd";  // p√∫rpura
        case "sabado": return "#8c564b";   // marr√≥n
        default: return "#cccccc";         // gris
      }
    }

    // Cambia el color del select seg√∫n el d√≠a seleccionado
    const select = document.getElementById('day-filter');
    function updateSelectColor() {
      const selectedDay = select.value;
      const color = selectedDay === 'todos' ? '#cccccc' : getColorForDay(selectedDay);
      select.style.backgroundColor = color;
      // Opcional: Cambiar el color del texto si el fondo es muy claro u oscuro
      // Aqu√≠ lo ponemos siempre blanco para que contraste bien con colores oscuros
      select.style.color = (selectedDay === 'todos') ? '#333' : '#fff';
    }

    select.addEventListener('change', updateSelectColor);

    // Inicializa color al cargar la p√°gina
    updateSelectColor();

    // Aqu√≠ el resto de tu c√≥digo para Leaflet y GeoJSON...
    const map = L.map('map');

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy; OpenStreetMap contributors'
    }).addTo(map);
    // üëá Aqu√≠ pegas tu objeto GeoJSON completo:
    const geojsonData = {
      "type": "FeatureCollection",
      "name": "das_de_retiro_zona_1",
      "features": [
        {
          "type": "Feature",
          "properties": { "Name": "Lunes", "COL54ECEF3850899A57": "d√≠a 1" },
          "geometry": {
            "type": "Polygon",
            "coordinates": [[
              [-72.1179000971111, -36.5938120155862], [-72.1161707526472, -36.5949593366468], [-72.1183084070988, -36.5981875320718], [-72.1196440260435, -36.5977279247644], [-72.1222834666219, -36.6016167850018], [-72.1223729181111, -36.6038251128338], [-72.119469227, -36.6034858069285], [-72.123489333, -36.6083361005713], [-72.124423222, -36.6094979735714], [-72.12406724, -36.6096578095713], [-72.123401944, -36.6097191985714], [-72.1231792249999, -36.6096563805714], [-72.122920816, -36.6095236075714], [-72.1226352799999, -36.6094807755713], [-72.122196854, -36.6095599905713], [-72.121690872, -36.6096813645714], [-72.120879238, -36.6097848725714], [-72.1200554689999, -36.610000451357], [-72.119545788, -36.6100018785714], [-72.11902293, -36.6099245095713], [-72.118716308, -36.6098719605713], [-72.1182979989999, -36.6098976585713], [-72.118231167, -36.6099480025713], [-72.1180196019999, -36.6099975945714], [-72.1177297839999, -36.6099461995713], [-72.117505638, -36.6098833815713], [-72.1172143919999, -36.6098148535714], [-72.116846052, -36.6098205635714], [-72.116613341, -36.6098705325713], [-72.1164848499999, -36.6101603515714], [-72.1165432499999, -36.6103846635714], [-72.116563372, -36.6107328495713], [-72.116239289, -36.6110455095713], [-72.115715332, -36.6113524595713], [-72.1148687199999, -36.6117550655713], [-72.114409279, -36.6118227405713], [-72.114743666, -36.6127035155713], [-72.11178654, -36.6135631625713], [-72.1118271301111, -36.6136345754201], [-72.1134796101111, -36.6148681559699], [-72.115943589, -36.6165391775713], [-72.1178657565623, -36.6158021680295], [-72.121158096, -36.6147173295713], [-72.123816427, -36.613444262357], [-72.123974382, -36.6133960955713], [-72.124072069, -36.6134528795713], [-72.1254334929999, -36.6149217605713], [-72.1272533200104, -36.6170678410704], [-72.1317561101111, -36.6162291853623], [-72.1341161121111, -36.6160991853043], [-72.1367761111111, -36.6152891849433], [-72.1390661111111, -36.6142191842521], [-72.1427661111111, -36.6139691833549], [-72.1437061111111, -36.6140491843906], [-72.1456661111111, -36.6146591844481], [-72.1471167918487, -36.6153635521037], [-72.1483761121111, -36.6172891860491], [-72.1541711154279, -36.6165230187444], [-72.159046383, -36.616445745], [-72.1569526446988, -36.6111364028065], [-72.1777436381144, -36.614540583163], [-72.1790193140899, -36.6181073008241], [-72.1844428405157, -36.6170132344913], [-72.1823323071461, -36.6111133145715], [-72.1507826218651, -36.6060255125661], [-72.144582209, -36.6051263795714], [-72.13821084, -36.6002297075714], [-72.1363278600832, -36.5988733013631], [-72.1336693931111, -36.5973480581618], [-72.129714784, -36.5947544785714], [-72.1275302999999, -36.5928922923572], [-72.1244063319876, -36.5942165275597], [-72.1206825820643, -36.5951482573895], [-72.1179000971111, -36.5938120155862]
            ]]
          }
        },
        {
          "type": "Feature",
          "properties": { "Name": "Martes", "COL54ECEF3850899A57": "d√≠a 2" },
          "geometry": {
            "type": "Polygon",
            "coordinates": [[
              [-72.102783261, -36.6074847505713], [-72.1122661581486, -36.6052042373303], [-72.1145281779999, -36.6113511545714], [-72.114252693, -36.6114102865713], [-72.114409279, -36.611822740357], [-72.1148687199999, -36.6117550655713], [-72.115715332, -36.6113524595713], [-72.116239289, -36.6110455095713], [-72.116563372, -36.6107328495713], [-72.1165432499999, -36.6103846635714], [-72.1164848499999, -36.6101603515714], [-72.116613341, -36.6098705325713], [-72.116846052, -36.6098205635714], [-72.1172143919999, -36.6098148535714], [-72.117505638, -36.6098833815713], [-72.1177297839999, -36.6099461995713], [-72.1180196019999, -36.6099975945714], [-72.118231167, -36.6099480025713], [-72.1182979989999, -36.6098976585713], [-72.118716308, -36.6098719605713], [-72.11902293, -36.6099245095713], [-72.119545788, -36.6100018785714], [-72.1200554689999, -36.610000451357], [-72.120879238, -36.6097848725714], [-72.121690872, -36.6096813645714], [-72.122196854, -36.6095599905713], [-72.1226352799999, -36.6094807755713], [-72.122920816, -36.6095236075714], [-72.1231792249999, -36.6096563805714], [-72.123401944, -36.6097191985714], [-72.12406724, -36.6096578095713], [-72.124423222, -36.6094979731428], [-72.123489333, -36.608336100357], [-72.119469227, -36.6034858071428], [-72.1223729181111, -36.6038251128338], [-72.1222834666219, -36.6016167850017], [-72.1196440260435, -36.5977279247644], [-72.1183084070988, -36.5981875320718], [-72.1161707526472, -36.5949593370754], [-72.1139764106524, -36.59616170331], [-72.1135866001111, -36.596255699675], [-72.112256219111, -36.5969528059857], [-72.110426291, -36.5974688245714], [-72.1085854579999, -36.5924283855714], [-72.1064483098339, -36.5928666107214], [-72.104233665, -36.5931220095714], [-72.104061277, -36.5931788835714], [-72.098831912, -36.5945182955714], [-72.093058427, -36.5971985483572], [-72.092989587, -36.5972089325714], [-72.088736382, -36.5991342665714], [-72.090513455, -36.6022589005714], [-72.099815499, -36.5999407555714], [-72.100026355, -36.6000687845714], [-72.102783261, -36.6074847505713]
            ]]
          }
        },
        {
          "type": "Feature",
          "properties": { "Name": "Miercoles", "COL54ECEF3850899A57": "d√≠a 3" },
          "geometry": {
            "type": "Polygon",
            "coordinates": [[
              [-72.107680547, -36.6146139705713], [-72.100094016, -36.6164317675713], [-72.1006924549999, -36.6181143625713], [-72.1003360559999, -36.6182793735713], [-72.100186145, -36.6183261515713], [-72.100774511, -36.6198939695713], [-72.105215757, -36.6190981285713], [-72.105282239, -36.6200326285713], [-72.1049279009999, -36.620703741357], [-72.1046360349999, -36.621651193357], [-72.104542926, -36.6226498145713], [-72.104499511, -36.6227513365713], [-72.106591624, -36.6269790785713], [-72.1065841156992, -36.6272500131381], [-72.1069338702635, -36.6284842917832], [-72.1092330300799, -36.6274576113992], [-72.1105113237461, -36.6271649976102], [-72.1165372568082, -36.6270885963805], [-72.1163971025559, -36.6262908919637], [-72.1204703658882, -36.6246250674321], [-72.1206100979323, -36.624685671434], [-72.1223834315921, -36.6221820623518], [-72.1223478268658, -36.6214544717725], [-72.1224546140952, -36.621303081139], [-72.1227702946625, -36.6205147748123], [-72.1226884536485, -36.6201485297824], [-72.1229339102151, -36.6199112586751], [-72.1231860502474, -36.6198124402001], [-72.1240967236549, -36.6191855789536], [-72.1268937154287, -36.6178787671967], [-72.1272533200104, -36.6170678410704], [-72.1254334929999, -36.6149217605713], [-72.124072069, -36.6134528795713], [-72.123974382, -36.6133960955713], [-72.123816427, -36.613444262357], [-72.121158096, -36.6147173295713], [-72.1178657565623, -36.6158021680295], [-72.115943589, -36.616539177357], [-72.1134796101111, -36.6148681555413], [-72.1118271301111, -36.6136345754201], [-72.11178654, -36.6135631625713], [-72.111327767, -36.6137362075713], [-72.107680547, -36.6146139705713]
            ]]
          }
        },
        {
          "type": "Feature",
          "properties": { "Name": "Jueves", "COL54ECEF3850899A57": "d√≠a 4" },
          "geometry": {
            "type": "Polygon",
            "coordinates": [[
              [-72.110423842, -36.5974626875714], [-72.112256219111, -36.5969528059857], [-72.1135866001111, -36.596255699675], [-72.1139764106524, -36.59616170331], [-72.1161707526472, -36.5949593370754], [-72.1179000971111, -36.5938120155862], [-72.1206825820643, -36.5951482576038], [-72.1244063319876, -36.594216527774], [-72.1275302999999, -36.5928922925714], [-72.1243894221111, -36.5903023860224], [-72.1200973539999, -36.5878440885714], [-72.1171418701111, -36.5869039485083], [-72.1141378361111, -36.5861921911912], [-72.109855024, -36.5851616945714], [-72.106260225, -36.5845926015714], [-72.103663607, -36.5838112445714], [-72.1024212149999, -36.5830226855714], [-72.1025952919999, -36.5877653665715], [-72.102659957, -36.5884078525714], [-72.1028633349999, -36.589424767], [-72.104233665, -36.5931220095714], [-72.1064483098339, -36.5928666109357], [-72.1085832489999, -36.5924223455714], [-72.110423842, -36.5974626875714]
            ]]
          }
        },
        {
          "type": "Feature",
          "properties": { "Name": "Jueves", "COL54ECEF3850899A57": "d√≠a 5" },
          "geometry": {
            "type": "Polygon",
            "coordinates": [[
              [-72.094862839, -36.6136884825713], [-72.0933825989999, -36.6097675205714], [-72.092935726, -36.6085443595713], [-72.0927731949999, -36.6085670685713], [-72.0877863699999, -36.6085838775713], [-72.0876435329999, -36.6086001535713], [-72.0865285209999, -36.6085523045713], [-72.086218327, -36.6091334485713], [-72.0860344389999, -36.6087619995713], [-72.085958395, -36.6087009735713], [-72.0857388809999, -36.6086769845713], [-72.0836575659999, -36.608768444357], [-72.081662169, -36.6091102235713], [-72.0810369759999, -36.606756603357], [-72.082285578, -36.6065600585713], [-72.082793379, -36.606457195357], [-72.0823539579999, -36.6059925995714], [-72.082274992, -36.6059360945713], [-72.0820863129999, -36.6058665753571], [-72.0819177669999, -36.6057904305714], [-72.0818961959999, -36.6058225995714], [-72.081632613, -36.6058918615713], [-72.0815666829999, -36.6058868895714], [-72.0814088069999, -36.6058432905714], [-72.080873417, -36.6057655915714], [-72.080772639, -36.6057300525713], [-72.0802960039999, -36.6054047775714], [-72.079894796, -36.6053102515714], [-72.079553641, -36.6051576695714], [-72.0709938845542, -36.6076879450776], [-72.071816294344, -36.6104527888056], [-72.0721312379999, -36.6103628565713], [-72.0734664983684, -36.6100199319258], [-72.0747710139775, -36.612110360334], [-72.0782357936355, -36.6111529778735], [-72.0787106829999, -36.6123567285713], [-72.078835338, -36.6126361215713], [-72.0801002059999, -36.6123014995713], [-72.0806350256999, -36.6134337512345], [-72.0807619500467, -36.6137669205493], [-72.0823678286502, -36.6133293121532], [-72.0825756818341, -36.6133996940161], [-72.0830045849239, -36.6141800375264], [-72.083127095, -36.6141816865713], [-72.0839870579999, -36.6139753395713], [-72.0845107179999, -36.6154711395713], [-72.0864009649999, -36.6138009055713], [-72.086671654, -36.6137148645713], [-72.0868797809999, -36.6136871155713], [-72.086905778, -36.6135975515713], [-72.08668156, -36.6131586935713], [-72.086913924, -36.6130253295714], [-72.0878219259999, -36.6128711405714], [-72.088080812, -36.6128635255713], [-72.0887965539999, -36.6126655545713], [-72.088933611, -36.6126427115713], [-72.08904021, -36.6126560355713], [-72.0891449069999, -36.6127093365713], [-72.0896749551111, -36.6131794692172], [-72.089853034, -36.6134193685714], [-72.090129052, -36.6135754595713], [-72.090905708, -36.6141389175713], [-72.090989465, -36.6141351095713], [-72.0914539359999, -36.6137296495714], [-72.0916842679999, -36.6136382785713], [-72.091990742, -36.6135716535713], [-72.092211557, -36.6135830745713], [-72.092696027, -36.6137620125713], [-72.093452683, -36.6138819355713], [-72.093970789, -36.6138566095713], [-72.094297867, -36.6136573145713], [-72.094461574, -36.6137029995713], [-72.094528149, -36.6136967855713], [-72.0947430541111, -36.6136961844476], [-72.094862839, -36.6136884825713]
            ]]
          }
        },
        {
          "type": "Feature",
          "properties": { "Name": "Viernes", "COL54ECEF3850899A57": "d√≠a 6" },
          "geometry": {
            "type": "Polygon",
            "coordinates": [[
              [-72.114409279, -36.611822740357], [-72.114252693, -36.6114102865713], [-72.1145281779999, -36.6113511545714], [-72.1122661581486, -36.6052042373303], [-72.102783335, -36.6074849395713], [-72.0935908549999, -36.609716279357], [-72.093503355, -36.609769471357], [-72.0933825989999, -36.6097675205714], [-72.094862839, -36.6136884825713], [-72.0952843259999, -36.6148331255713], [-72.096121437, -36.6171369905713], [-72.09618699, -36.6174000985713], [-72.096267115, -36.6174057405714], [-72.0963270459999, -36.6173177725713], [-72.100094016, -36.6164317675713], [-72.101745389, -36.6160297715713], [-72.104110306, -36.6154599425713], [-72.1056228749999, -36.6151019355713], [-72.107680547, -36.6146139705713], [-72.111327767, -36.6137362075713], [-72.11178654, -36.6135631625713], [-72.114743666, -36.6127035155713], [-72.114409279, -36.611822740357]
            ]]
          }
        },
        {
          "type": "Feature",
          "properties": { "Name": "Viernes", "COL54ECEF3850899A57": "d√≠a 7" },
          "geometry": {
            "type": "Polygon",
            "coordinates": [[
              [-72.1045104519999, -36.6227525635713], [-72.101968292, -36.6229885865713], [-72.0978000262266, -36.6236663211912], [-72.099547039, -36.6265632675713], [-72.0971387289999, -36.6275111075713], [-72.09735832, -36.6279738733569], [-72.0982292530286, -36.6276661733272], [-72.0986878356477, -36.6283697151412], [-72.0985959551012, -36.628426310129], [-72.098716865, -36.6288616145712], [-72.0992970324559, -36.6298525662374], [-72.0993831064548, -36.6304899199961], [-72.098694813, -36.6305571665712], [-72.098745061, -36.6309285575712], [-72.097395364, -36.6310771745712], [-72.0976653030794, -36.6322637155279], [-72.0965405436987, -36.6323905491716], [-72.0965786940871, -36.6326714122183], [-72.102401062, -36.6322553845712], [-72.102412576, -36.6326586175712], [-72.1032702649999, -36.6325709565713], [-72.103398258, -36.6332992575712], [-72.1036520110185, -36.6332335452149], [-72.1033665237263, -36.6319475086041], [-72.1040825142454, -36.6318311620909], [-72.1032299762098, -36.6278650411864], [-72.1035688665491, -36.6276741687504], [-72.1065841156992, -36.6272500131381], [-72.106591624, -36.6269790785713], [-72.1045104519999, -36.6227525635713]
            ]]
          }
        },
        {
          "type": "Feature",
          "properties": { "Name": "Sabado", "COL54ECEF3850899A57": "d√≠a 8" },
          "geometry": {
            "type": "Polygon",
            "coordinates": [[
              [-72.0845107179999, -36.615471139357], [-72.084774178, -36.6159243765713], [-72.084940378, -36.6159829365713], [-72.0870475199999, -36.6163756195713], [-72.0870480259999, -36.6164692735713], [-72.087849494, -36.6185980315713], [-72.088079378, -36.6185546255713], [-72.089110204, -36.620745607357], [-72.0915718269999, -36.6200014905713], [-72.0937389229999, -36.6244002235713], [-72.097829164, -36.6236743165713], [-72.101968292, -36.6229885865713], [-72.1045104519999, -36.6227525635713], [-72.104542926, -36.6226498145713], [-72.1046360349999, -36.6216511935713], [-72.1049279009999, -36.6207037415713], [-72.105282239, -36.6200326285713], [-72.105215757, -36.6190981285713], [-72.100774511, -36.6198939695713], [-72.100186145, -36.6183261515713], [-72.1003360559999, -36.6182793735713], [-72.10066649, -36.6181318365713], [-72.100702959, -36.6180981715713], [-72.100094016, -36.6164317675713], [-72.0963270459999, -36.617317772357], [-72.096267115, -36.6174057405714], [-72.09618699, -36.617400098357], [-72.096121437, -36.6171369905713], [-72.094862839, -36.613688482357], [-72.0947430541111, -36.6136961842333], [-72.094528149, -36.613696785357], [-72.094461574, -36.613702999357], [-72.094297867, -36.613657314357], [-72.093970789, -36.613856609357], [-72.093452683, -36.613881935357], [-72.092696027, -36.613762012357], [-72.092211557, -36.613583074357], [-72.091990742, -36.613571653357], [-72.0916842679999, -36.613638278357], [-72.0914539359999, -36.613729649357], [-72.090989465, -36.614135109357], [-72.090905708, -36.6141389171427], [-72.090129052, -36.613575459357], [-72.089853034, -36.6134193683571], [-72.0896749551111, -36.6131794690029], [-72.0891449069999, -36.612709336357], [-72.08904021, -36.612656035357], [-72.088933611, -36.6126427113571], [-72.0887965539999, -36.612665554357], [-72.088080812, -36.612863525357], [-72.0878219259999, -36.612871140357], [-72.086913924, -36.6130253293571], [-72.08668156, -36.613158693357], [-72.086905778, -36.613597551357], [-72.086879781, -36.613687115357], [-72.086671654, -36.613714864357], [-72.0864009649999, -36.613800905357], [-72.0845107179999, -36.615471139357]
            ]]
          }
        },
        {
          "type": "Feature",
          "properties": { "Name": "Sabado", "COL54ECEF3850899A57": "d√≠a 9" },
          "geometry": {
            "type": "Polygon",
            "coordinates": [[
              [-72.102783335, -36.6074849395713], [-72.100026355, -36.6000687845714], [-72.099815499, -36.5999407555714], [-72.090513455, -36.6022589003571], [-72.0911829386387, -36.6038048448211], [-72.0861078917673, -36.604326770375], [-72.086066952, -36.6042821985714], [-72.085475303, -36.6028517625713], [-72.083670899, -36.6036274505714], [-72.0819814659999, -36.6044636595714], [-72.081495483, -36.6046591805714], [-72.081375254, -36.6046157105714], [-72.079559971, -36.6051605645713], [-72.079894796, -36.6053102515714], [-72.0802960039999, -36.6054047775714], [-72.080772639, -36.6057300525713], [-72.080873417, -36.6057655915714], [-72.0814088069999, -36.6058432903571], [-72.0815666829999, -36.6058868895714], [-72.081632613, -36.6058918615713], [-72.0818961959999, -36.6058225995714], [-72.0819177669999, -36.6057904305714], [-72.0820863129999, -36.6058665755714], [-72.082274992, -36.6059360945713], [-72.0823539579999, -36.6059925995714], [-72.082793379, -36.6064571955713], [-72.082285578, -36.6065600585713], [-72.0810369759999, -36.6067566035713], [-72.081662169, -36.6091102235713], [-72.0836575659999, -36.6087684445713], [-72.0857388809999, -36.6086769845713], [-72.085958395, -36.6087009735713], [-72.0860344389999, -36.6087619995713], [-72.0862213739999, -36.6091398515713], [-72.0865285209999, -36.6085523045713], [-72.0876435329999, -36.6086001535713], [-72.0877863699999, -36.6085838775713], [-72.0927731949999, -36.6085670685713], [-72.092935726, -36.6085443595713], [-72.0933825989999, -36.6097675205714], [-72.093503355, -36.6097694715713], [-72.0935908549999, -36.6097162795713], [-72.102783335, -36.6074849395713]
            ]]
          }
        }
      ]
    }

    const geojsonLayer = L.geoJSON(geojsonData, {
      style: function (feature) {
        return {
          fillColor: getColorForDay(feature.properties.Name), // funci√≥n personalizada
          color: "#333",   // borde
          weight: 1,
          fillOpacity: 0.3
        };
      },
      onEachFeature: function (feature, layer) {
        layer.bindPopup(`D√≠a: ${feature.properties.Name}`);
      }
    }).addTo(map);

    map.fitBounds(geojsonLayer.getBounds());
  </script>
  <script>
    let currentLayer; // referencia a la capa actual
  
    function updateMapWithFilter(day) {
      if (currentLayer) {
        map.removeLayer(currentLayer); // quitar capa anterior
      }
  
      // Siempre mostrar todas las features, pero con estilos diferentes
      currentLayer = L.geoJSON(geojsonData, {
        style: function(feature) {
          const featureDay = feature.properties.Name.toLowerCase();
          const selectedDay = day.toLowerCase();
          
          // Si se seleccion√≥ "todos", mostrar todos con estilo normal
          if (day === "todos") {
            return {
              fillColor: getColorForDay(feature.properties.Name),
              color: "#333",
              weight: 2,
              opacity: 0.8,
              fillOpacity: 0.5
            };
          }
          
          // Si es el d√≠a seleccionado, destacarlo
          if (featureDay === selectedDay) {
            return {
              fillColor: getColorForDay(feature.properties.Name),
              color: "#000", // borde m√°s oscuro para destacar
              weight: 3,     // borde m√°s grueso
              opacity: 1,    // completamente opaco
              fillOpacity: 0.5 // m√°s opaco el relleno
            };
          }
          
          // Para los d√≠as no seleccionados, usar estilo "apagado"
          return {
            fillColor: "#cccccc", // gris claro
            color: "#999",        // borde gris
            weight: 1,            // borde m√°s delgado
            opacity: 0.3,         // muy transparente
            fillOpacity: 0.1      // casi transparente el relleno
          };
        },
        onEachFeature: function (feature, layer) {
          layer.bindPopup(`D√≠a: ${feature.properties.Name}`);
        }
      }).addTo(map);
  
      map.fitBounds(currentLayer.getBounds());
    }
  
    document.getElementById("day-filter").addEventListener("change", function () {
      const selectedDay = this.value;
      updateMapWithFilter(selectedDay);
    });
  
    // Cargar todos al principio
    updateMapWithFilter("todos");
  </script>
</body>
</html>

